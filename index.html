<!DOCTYPE <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Word Guess Game</title>

    <!-- External CSS Stylesheets -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Share+Tech" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">

    <!-- Local CSS Stylesheets -->
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />

    <!-- Javascript Includes -->
    <script src="assets/javascript/words.js"></script>
    <script src="assets/javascript/game.js"></script>

</head>

<body>
    <!-- Banner & Navigation -->
    <header>
        <div class="bg"></div>
    </header>

    <!-- Game Display -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h1>Welcome to Sci-Fi Word Guess</h1>
                <h5>a game of guessing based on science fiction movies and tv shows</h5>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class=" card" id="instructions">
                    <div class="card-body rounded">
                        <p class="card-text small">
                            <p>Messages:</p>
                            <p id="keyPrompt" style="color:red;">Press any key to get started</p>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-lg-3">
                <div class="card" id="stats">
                    <div class="card-body rounded">
                        <p class="card-text small">
                            <!-- Scoreboard Status -->
                            <h5>Scoreboard:</h5>
                            <table>
                                <tr>
                                    <th scope="row">Wins </th>
                                    <td id="wins">0</td>
                                </tr>
                                <tr>
                                    <th scope="row">Losses</th>
                                    <td id="losses">0 </td>
                                </tr>
                                <tr>
                                    <th scope="row">Total Games</th>
                                    <td id="totalGames">0 </td>
                                </tr>
                            </table>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 col-lg-9">
                <div class="card" id="stats">
                    <div class="card-body rounded">
                        <p class="card-text small">
                            <!-- Current Game Status -->
                            <h5>Current Game:</h5>
                            <table>
                                <tr>
                                    <th scope="row">Current Word</th>
                                    <td id="currentWord">None</td>
                                </tr>
                                <tr>
                                    <th scope="row">Number of guesses remaining</th>
                                    <td id="guessesLeft">6</td>
                                </tr>
                                <tr>
                                    <th scope="row">Letters already guessed</th>
                                    <td id="lettersGuessed">None</td>
                                </tr>
                            </table>
                            <!-- <p>Current word: <span id="currentWord"> None </span></p>
                            <p>Number of guesses remaining: <span id="guessesLeft"> 6 </span></p>
                            <p>Letters already guessed: <span id="lettersGuessed"> None </span></p> -->
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Javascript variable and function declarations -->
    <script src="assets/javascript/words.js"></script>
    <script src="assets/javascript/prompts.js"></script>
    <script src="assets/javascript/scoreboard.js"></script>
    <script src="assets/javascript/game.js"></script>

    <!-- Main Game Logic Processing -->
    <script type="text/javascript">
        /* Save screen elements for later updates*/
        prompts.getElementIds(document);

        /*----------------------------------------*/
        /* Game Engine:  Process the input events */
        /*----------------------------------------*/
        document.onkeyup = function (event) {

            // Get keystroke
            var userGuess = event.key.toLowerCase();

            // Create a new game if none in progress
            if (game.inProgress() == false) {

                // Clear the board 
                game.resetGame();

                // Write out the starting state
                prompts.reportResults(game, scoreboard);
                prompts.status("Let's do this!! - Choose a letter")
                return;
            };

            // Validate input - confirm they entered a letter
            if (game.validKey(userGuess) == false) {
                prompts.status("Guess #" + game.getNumGuesses() + ": Oops, invalid key, we only need letters");
                return;
            }

            // Play a round
            if (game.playRound(userGuess)) {
                prompts.status("Guess #" + game.getNumGuesses() + ": Nice guess -- keep going");
            } else {
                prompts.status("Guess #" + game.getNumGuesses() + ": Oops, try again");
            }

            // Score the results
            if (game.wonGame()) {
                scoreboard.won();
                game.stopGame();
                prompts.status("Congratulations!  You won!! -- Press any key to start again");
            } else if (game.gameOver()) {
                scoreboard.lost();
                game.stopGame();
                prompts.status("Sorry! It was: [ " + game.solution +
                    " ] Better luck next time! -- Press any key to start again");
            }

            // Update the display with the new state
            prompts.reportResults(game, scoreboard);
        };
    </script>
</body>

</html>